<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>App Test</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mocha@7/mocha.css" />
    <!--<link rel="stylesheet" href="node_modules/mocha/mocha.css" onerror="var e=document.createElement('link');e.rel='stylesheet';e.href='https://cdn.jsdelivr.net/npm/mocha@7/mocha.css';document.head.appendChild(e)" />-->
  </head>
  <body>
    <div id="mocha"></div>
    <script src="https://cdn.jsdelivr.net/npm/mocha@7/mocha.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/requirejs@2/require.js"></script>
    <script>
    //window.xloadcount = 0;
    //window.xload = function() {
    //  if (typeof xload === "undefined" || ++xloadcount !== 2) return;
    //  delete window.xload;
    //  delete window.xloadcount;

      require.config({
        baseUrl: ".",
        paths: {
          "esm": "https://cdn.jsdelivr.net/npm/require-babel@0/esm",
          "jsx": "https://cdn.jsdelivr.net/npm/require-babel@0/jsx",
          "require-babel": "https://cdn.jsdelivr.net/npm/require-babel@0/babel",
          //"esm": [ "node_modules/require-babel/esm", "https://cdn.jsdelivr.net/npm/require-babel@0/esm" ],
          //"jsx": [ "node_modules/require-babel/jsx", "https://cdn.jsdelivr.net/npm/require-babel@0/jsx" ],
          //"require-babel": [ "node_modules/require-babel/babel", "https://cdn.jsdelivr.net/npm/require-babel@0/babel" ],
          "babel-standalone": "https://cdn.jsdelivr.net/npm/@babel/standalone@7/babel",
          "react": "https://cdn.jsdelivr.net/npm/react@16/umd/react.development",
          "react-dom": "https://cdn.jsdelivr.net/npm/react-dom@16/umd/react-dom.development",
          //"babel-standalone": [ "node_modules/@babel/standalone/babel", "https://cdn.jsdelivr.net/npm/@babel/standalone@7/babel" ],
          //"react": [ "node_modules/react/umd/react.development", "https://cdn.jsdelivr.net/npm/react@16/umd/react.development" ],
          //"react-dom": [ "node_modules/react-dom/umd/react-dom.development", "https://cdn.jsdelivr.net/npm/react-dom@16/umd/react-dom.development" ],
          "chai": "https://cdn.jsdelivr.net/npm/chai@4/chai",
          "react-dom/test-utils": "https://cdn.jsdelivr.net/npm/react-dom@16/umd/react-dom-test-utils.development"
          //"chai": [ "node_modules/chai/chai", "https://cdn.jsdelivr.net/npm/chai@4/chai" ],
          //"react-dom/test-utils": [ "node_modules/react-dom/umd/react-dom-test-utils.development", "https://cdn.jsdelivr.net/npm/react-dom@16/umd/react-dom-test-utils.development" ]
        }
      });
      require.exec = function(text) {
        // Do no eval (the default) because it breaks breakpoints
        var node = require.createNode(require.config);
        node.text = text;
        document.head.appendChild(node);
      };

      //BABEL_ENV_TARGETS = "defaults"; // no need to set; is the default
      BABEL_ENV_TARGETS = { "chrome": "81", "firefox": "75", "safari": "13" }; // latest as of 2020-04-29
      //BABEL_ENV_TARGETS = "> 0.25%, not dead"
      APP_LAUNCH_DELAY = 100; // ms to wait before launch for more reliable breakpoints

    //  var e=document.createElement("script");e.src="app-test.js";document.head.appendChild(e);
    //};
    </script>
    <!--<script src="node_modules/mocha/mocha.js" onload="xload()" onerror="var e=document.createElement('script');e.src='https://cdn.jsdelivr.net/npm/mocha@7/mocha.js';e.onload=xload;document.head.appendChild(e)"></script>-->
    <!--<script src="node_modules/requirejs/require.js" onload="xload()" onerror="var e=document.createElement('script');e.src='https://cdn.jsdelivr.net/npm/requirejs@2/require.js';e.onload=xload;document.head.appendChild(e)"></script>-->
    <script src="app-test.js"></script>
  </body>
</html>
